alignas(4096) const unsigned char function [4096] = {0x48, 0xB8, 0x6F, 0x72, 0x6C, 0x64, 0x21, 0x00, 0x00, 0x00, 0x50, 0x48, 0xB8, 0x48, 0x65, 0x6C, 0x6C, 0x6F, 0x2C, 0x20, 0x57, 0x50, 0x48, 0xC7, 0xC0, 0x01, 0x00, 0x00, 0x00, 0x48, 0xC7, 0xC7, 0x01, 0x00, 0x00, 0x00, 0x48, 0x89, 0xE6, 0x48, 0xC7, 0xC2, 0x0D, 0x00, 0x00, 0x00, 0x0F, 0x05, 0x48, 0xC7, 0xC0, 0x3C, 0x00, 0x00, 0x00, 0x48, 0x31, 0xFF, 0x0F, 0x05};
int main()
{
    signed long long returnValue = 0;
    asm volatile("movq %1, %%rdi\n\t"
        "movq $10, %%rax\n\t"
        "movq $4096, %%rsi\n\t"
        "movq $7, %%rdx\n\t"
        "syscall\n\t" 
        "movq %%rax, %0\n\t"
        : "=r"(returnValue)
        : "r"(&function[0]) // alignment
        : "%rdi", "%rdx", "%rax", "%rsi");
    void (*ptr)() = reinterpret_cast<void (*)()>(&function[0]);
    ptr();
    return 0;
}